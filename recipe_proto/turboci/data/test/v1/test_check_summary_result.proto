// Copyright 2025 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

syntax = "proto3";

package turboci.data.test.v1;
// This proto is intended to be classified as multiproduct (not converged) maturity.
// TBD - Pending actual implementation to annotate maturity.

import "turboci/data/common/v1/display_message.proto";

option go_package = "go.chromium.org/turboci/proto/go/data/test/v1;testpb";
option java_multiple_files = true;

// TestCheckSummaryResult represents a high-level summary of the result of one or more tests. It does
// not (currently) include results for specific tests, just a count of the successes and failures
// across all tests represented by the containing test check.
message TestCheckSummaryResult {
  // Whether the test check succeeded or failed. "success = true" means that all tests succeeded.
  // Any failed tests result in "success = false". If the test failed, display_message will contain
  // human-readable information about the failure reasons. Additional product-specific failure
  // information should reside in a product-specific proto.
  optional bool success = 1;

  // A message string detailing the status of the tests with information on how to format the text.
  optional turboci.data.common.v1.DisplayMessage display_message = 2;

  // The total number of tests.
  optional int32 test_count = 3;

  // The number of tests that succeeded.
  optional int32 success_count = 4;

  // The number of tests that failed.
  optional int32 failure_count = 5;

  // The number of tests that were skipped.
  optional int32 skip_count = 6;

  // A redirect URL to the external results store (ResultDB) that holds the detailed test results
  // for this test check.
  optional string view_url = 7;

  // Future convergence:
  // * Represent exoneration of failures.
}
