// Copyright 2025 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

syntax = "proto3";

package turboci.data.stage.v1;
// This proto is intended to be classified as MVP (converged) maturity.
// TBD - Pending actual implementation to annotate maturity.

option go_package = "go.chromium.org/turboci/proto/go/data/stage/v1;stagepb";
option java_multiple_files = true;

// Stage Attempt details provided by the Executor. This message is meant to be used
// only for the Stage.Attempt.details generic Value field. Common, generic stage attempt
// details can go in this message. Other stage-specific details should use a separate
// message.
message CommonStageAttemptDetails {
  // A map of URLs to view information about the stage attempt. This might include pages
  // for viewing the actions taken by the stage attempt, results it produced, logs, etc.
  // Key:   A human-readable label for the URL which will be displayed in the UI. This
  //        can include things like logs or other artifacts holding information about how
  //        the stage ran. Outputs produced by the stage should go in the check results,
  //        but may also appear here for ease of debugging.
  // Value: A UrlDetails message containing more information about the URL.
  map<string, UrlDetails> view_urls = 1;

  // Details about the URL to link to as well as additional information such as priority
  // ordering in the UI, enums for specific types of URLs etc.
  message UrlDetails {
    // The URL to link to.
    optional string url = 1;
  }
}
