// Copyright 2025 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

syntax = "proto3";

package turboci.graph.orchestrator.v1;

import "turboci/graph/orchestrator/v1/stage.proto";
import "turboci/graph/orchestrator/v1/stage_edit_view.proto";

option go_package = "go.chromium.org/turboci/proto/go/graph/orchestrator/v1;orchestratorpb";
option java_multiple_files = true;

// StageView is a collated, partial, view of a single Stage and the nodes
// which belong to it.
message StageView {
  // The Stage itself - always present.
  optional Stage stage = 1;

  // TBD: Stage Attempt Progress data.
  // ... = 2;
  reserved 2; // reserved for progress data.

  // StageEdits for this Stage.
  //
  // Sorted by `edit.version`.
  repeated StageEditView edits = 3;
}
