// Copyright 2025 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

syntax = "proto3";

package turboci.graph.orchestrator.v1;

import "turboci/graph/ids/v1/identifier.proto";

option go_package = "go.chromium.org/turboci/proto/go/graph/orchestrator/v1;orchestratorpb";
option java_multiple_files = true;

// Represents an actor which owns/created/edited a node.
message Actor {
  // Placeholder type for when the Orchestrator itself makes this edit.
  message Orchestrator {}

  // Placeholder type for when the creator of the Workplan makes this edit.
  message WorkplanCreator {}

  // The kind of editor which edited this node.
  oneof kind {
    // The StageAttempt which generated this Edit.
    //
    // This is the most common case.
    ids.v1.StageAttempt stage_attempt = 1;

    // The Orchestrator generated this Edit.
    Orchestrator orchestrator = 2;

    // The Creator of the Workplan generated this Edit.
    WorkplanCreator workplan_creator = 3;

    // TBD: general service account editor if/when WriteNodes allows
    // external-to-the-workflow writes.
  }
}
